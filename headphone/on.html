<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="https://use.typekit.net/fkd1thh.css">
  <link rel="stylesheet" href="common.css">
  <title>Listening in Between — ON</title>
  <style>

    :root{
      --bg1:#f3f3f3;
      --bg2:#e9e9e9;
      --ink:#111;
      --muted:#6b6b6b;

      --font-serif: "instrument-serif", sans-serif;
      --font-weight: 400;
      --font-style: normal;
    }
    html,body{height:100%; margin:0;}
    body{
      overflow:hidden;
      color:var(--ink);
      background:
        radial-gradient(1200px 700px at 10% 15%, rgba(0,0,0,.08), transparent 55%),
        radial-gradient(900px 600px at 90% 20%, rgba(0,0,0,.06), transparent 58%),
        radial-gradient(1000px 700px at 20% 90%, rgba(0,0,0,.06), transparent 55%),
        radial-gradient(900px 600px at 95% 85%, rgba(0,0,0,.07), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }
    .stage{ position:relative; height:100%; width:100%; }

    .big{
      position:absolute;
      left: 0%;
      top: 3%;
      font-size:min(13vw, 160px);
      letter-spacing:-0.03em;
      line-height:0.9;
      margin:0;
    }

    .big2{
      position:absolute;
      right: 0%;
      bottom: -3%;
      font-size:min(13vw, 160px);
      letter-spacing:-0.03em;
      line-height:0.9;
      margin:0;
    }

    .copy{
      position:absolute;
      left: 15%;
      top: 34%;
      width:min(560px, 58vw);
      font-size:18px;
      line-height:1.55;
      color:rgba(0,0,0,.82);
    }

   /* ===== Mode bar (match map/on/off positioning + true edge snapping) ===== */
.mode{
  /* tweakables */
  --w: 200px;
  --h: 40px;
  --knob: 16px;

  position:absolute;
  right:54px;
  top:50%;
  transform:translateY(-50%);
  width:var(--w);
  height:var(--h);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:50;
  user-select:none;
}

.mode .track{
  width:100%;
  height:2px;
  background:rgba(0,0,0,.35);
  position:relative;
}

.mode .knob{
  position:absolute;
  top:50%;
  width:var(--knob);
  height:var(--knob);
  border-radius:50%;
  background:#000;
  transform:translateY(-50%);   /* only center vertically */
  left: var(--knobLeft, 0px);   /* pixel-perfect */
  cursor:grab;
  touch-action:none;
}

/* labels aligned to the line ends */
.mode .label{
  position:absolute;
  top:18px;
  font-size:13px;
  color:rgba(0,0,0,.8);
  line-height:1;
  white-space:nowrap;
}

.mode .label.left{
  left:0;
}

.mode .label.right{
  right:0;
}

    .fade{
      position:fixed;
      inset:0;
      background:rgba(255,255,255,.92);
      opacity:0;
      pointer-events:none;
      transition:opacity 420ms ease;
      z-index:999;
    }
    .fade.on{ opacity:1; }
  </style>
</head>
<body>
  <div class="stage">
    <h1 class="big">Listening</h1>
    <h1 class="big2">in Between</h1>

    <div class="copy">
      <p>
        “Listening in Between” is a project examines this paradox through headphones, an ordinary object that offers personal comfort and control while rewriting the rules of social interaction. As headphones carve out private spaces within public settings, they redefine the ways we listen, communicate, and coexist with others, and challenge us to reconsider the balance between personal comfort and shared social experience.
      </p>
      <p>
        Drawing on interviews with 18 participants from varied backgrounds and generations, this project gathers personal accounts of listening and imagined “headphone worlds.” These stories map out the intimate soundscapes people create for themselves, revealing listening as a quiet negotiation between inner experience and shared reality.
      </p>
    </div>

    

    <div class="mode" aria-label="Mode slider">
      <div class="track" id="track">
        <div class="knob" id="knob" role="slider" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0.10"></div>
        <div class="label left">ON</div>
        <div class="label right">OFF</div>
      </div>
    </div>
  </div>

  <div class="fade" id="fade"></div>

  <script>
    function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }

    const fade = document.getElementById('fade');
    function go(url){
      fade.classList.add('on');
      setTimeout(()=> location.href = url, 460);
    }

    const track = document.getElementById('track');
    const knob  = document.getElementById('knob');

    let value = 0.10;
    let dragging = false;

    function setKnob(v){
      value = clamp(v, 0, 1);
      knob.style.left = (value * 100) + '%';
      knob.setAttribute('aria-valuenow', value.toFixed(2));
    }
    setKnob(0.0);

    function pointerToValue(clientX){
      const r = track.getBoundingClientRect();
      return (clientX - r.left) / r.width;
    }

    knob.addEventListener('pointerdown', (e)=>{
      dragging = true;
      knob.setPointerCapture(e.pointerId);
      knob.style.cursor = 'grabbing';
    });
    knob.addEventListener('pointermove', (e)=>{
      if(!dragging) return;
      setKnob(pointerToValue(e.clientX));
    });
    knob.addEventListener('pointerup', ()=>{
      dragging = false;
      knob.style.cursor = 'grab';

      // spec: on.html release near center -> map, far right -> off
      if(value > 0.80){
        setKnob(0.95);
        go('off.html');
      }else{
        setKnob(0.5);
        go('map.html');
      }
    });
  </script>

</body>
</html>