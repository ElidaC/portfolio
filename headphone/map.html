<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="https://use.typekit.net/fkd1thh.css">
  <title>Listening in Between — Map</title>
  <style>
    :root{
      --bg1:#f3f3f3;
      --bg2:#e9e9e9;
      --ink:#111;
      --muted:#6b6b6b;
      --pad:64px;

      --font-serif: "instrument-serif", sans-serif;
    }
    html,body{height:100%; margin:0;}
    body{
      overflow:hidden;
      color:var(--ink);
      background:
        radial-gradient(1200px 700px at 10% 15%, rgba(0,0,0,.08), transparent 55%),
        radial-gradient(900px 600px at 90% 20%, rgba(0,0,0,.06), transparent 58%),
        radial-gradient(1000px 700px at 20% 90%, rgba(0,0,0,.06), transparent 55%),
        radial-gradient(900px 600px at 95% 85%, rgba(0,0,0,.07), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    .stage{
      position:relative;
      height:100%;
      width:100%;
    }

    /* back arrow */
    .back{
      position:absolute;
      left:42px;
      bottom:42px;
      display:flex;
      align-items:center;
      gap:14px;
      cursor:pointer;
      user-select:none;
      color:rgba(0,0,0,.55);
      z-index:20;
      text-decoration:none;
    }
    .back .shaft{
      width:52px; height:1px;
      background:rgba(0,0,0,.45);
      position:relative;
    }
    .back .shaft::before{
      content:"";
      position:absolute;
      left:-2px; top:50%;
      width:10px; height:10px;
      border-left:1.5px solid rgba(0,0,0,.45);
      border-bottom:1.5px solid rgba(0,0,0,.45);
      transform:translateY(-50%) rotate(45deg);
    }
    .back:hover{ color:rgba(0,0,0,.8); }

    /* circles */
    .circle{
      position:absolute;
      width:54px;
      height:54px;
      border-radius:50%;
      transform:translate(-50%,-50%);
      cursor:pointer;
      z-index:6;
      background-color:#000;
      opacity:.12;
      transition:opacity 250ms ease, transform 250ms ease, filter 250ms ease;
    }

    .circle.active{
      opacity:1;
      transform:translate(-50%,-50%) scale(1.02);
    }

    .circle:hover{
      opacity:1;
      transform:translate(-50%,-50%) scale(2.06);
      background-image: var(--img);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      overflow:hidden;
      background-color: transparent;
    }

    /* phrases */
    .phrase{
      position:absolute;
      font-size:26px;
      color:rgba(0,0,0,.92);
      white-space:nowrap;
      transform-origin: 50% 50%;
      opacity:0;
      z-index:4;
      pointer-events:none;
      filter: blur(0px);
      transition:opacity 500ms ease, transform 900ms ease;
    }
    .phrase.show{ opacity:1; }
    .phrase.fade{ opacity:0; }

    .fade{
      position:fixed;
      inset:0;
      background:rgba(255,255,255,.92);
      opacity:0;
      pointer-events:none;
      transition:opacity 420ms ease;
      z-index:999;
    }
    .fade.on{ opacity:1; }

    /* subtle “axes” hint (optional, invisible by default) */
    .axisHint{
      position:absolute;
      left:40px;
      top:36px;
      font-size:12px;
      color:rgba(0,0,0,.38);
      user-select:none;
      display:none;
    }

    /* =========================
       NAV (replaces slider)
       ========================= */
    .nav{
      position:absolute;
      top:44px;
      right:54px;
      display:flex;
      flex-direction:column;
      gap:5px;
      z-index:50;
      user-select:none;
    }

    .navBtn{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color: rgba(0,0,0,.85);
      font-family: var(--font-serif);
      font-size:18px;
      font-style: normal;
    }

    .navBtn .label{
      display:inline-block; /* ✅ 保证 skew 只作用文字 */
      transition: transform 180ms ease;
    }

    /* dot base */
    .navBtn .dot{
      width: 16px;
      height: 16px;
      border-radius:999px;
      background: transparent;
      border: 1px solid transparent;
      transition: border 180ms ease, background 180ms ease;
    }

    /* selected: italic + filled dot */
    .navBtn.active{
      font-style: italic;
      pointer-events: none; /* ✅ active 不 hover */
    }

    .navBtn.active .dot{
      background: rgba(0,0,0,.95);
      border: none;
    }

    /* hover ONLY for not active: tilt label + outline dot */
    .navBtn:not(.active):hover .label{
      transform: skewX(-10deg);
    }

    .navBtn:not(.active):hover .dot{
      border: 1px solid rgba(0,0,0,.65);
    }
  </style>
</head>

<body>
  <div class="stage" id="stage">
    <a class="back" href="index.html" aria-label="Back to landing">
      <div class="shaft"></div>
    </a>

    <!-- ✅ NAV (replaces slider) -->
    <nav class="nav" aria-label="Site navigation">
      <a class="navBtn" href="on.html" data-nav="intro">
        <span class="dot" aria-hidden="true"></span>
        <span class="label">{Intro}</span>
      </a>

      <a class="navBtn active" data-nav="home" aria-current="page">
        <span class="dot" aria-hidden="true"></span>
        <span class="label">{Listening In Between}</span>
      </a>

      <a class="navBtn" href="off.html" data-nav="gallery">
        <span class="dot" aria-hidden="true"></span>
        <span class="label">{World Gallery}</span>
      </a>
    </nav>

    <div class="axisHint">x: years (0–21), y: volume (0–10)</div>
  </div>

  <div class="fade" id="fade"></div>

  <script src="map.js"></script>
</body>
</html>